{"remainingRequest":"D:\\web\\react-ritch-markdown\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!D:\\web\\react-ritch-markdown\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!D:\\web\\react-ritch-markdown\\node_modules\\source-map-loader\\index.js!D:\\web\\react-ritch-markdown\\src\\editor\\markdown\\plugin\\imagePlugin\\index.jsx","dependencies":[{"path":"D:\\web\\react-ritch-markdown\\src\\editor\\markdown\\plugin\\imagePlugin\\index.jsx","mtime":1609924853223},{"path":"D:\\web\\react-ritch-markdown\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web\\react-ritch-markdown\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web\\react-ritch-markdown\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\web\\react-ritch-markdown\\node_modules\\source-map-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcd2ViXFxyZWFjdC1yaXRjaC1tYXJrZG93blxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDpcXHdlYlxccmVhY3Qtcml0Y2gtbWFya2Rvd25cXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRDpcXHdlYlxccmVhY3Qtcml0Y2gtbWFya2Rvd25cXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRDpcXHdlYlxccmVhY3Qtcml0Y2gtbWFya2Rvd25cXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkQ6XFx3ZWJcXHJlYWN0LXJpdGNoLW1hcmtkb3duXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICJEOlxcd2ViXFxyZWFjdC1yaXRjaC1tYXJrZG93blxcc3JjXFxlZGl0b3JcXG1hcmtkb3duXFxwbHVnaW5cXGltYWdlUGx1Z2luXFxpbmRleC5qc3giOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qDQogKiBAQXV0b3I6IENsYWlyb2xsDQogKiBARGF0ZTogMjAyMC0wOC0yNyAxNDo1ODowNA0KICogQExhc3RFZGl0VGltZTogMjAyMC0xMi0yMyAxNToxMToxMA0KICogQEVtYWlsOiAxNzU1MDMzNDQ1QHFxLmNvbQ0KICogQGRlc2NyaXB0aW9uOiDln7rkuo5yZWFjdC1tYXJrZG93bi1lZGl0b3ItbGl0ZSDnmoTlm77niYfkuIrkvKDnu4Tku7YNCiAqLwppbXBvcnQgUmVhY3QgZnJvbSAicmVhY3QiOwppbXBvcnQgeyBQbHVnaW5Db21wb25lbnQgfSBmcm9tICJyZWFjdC1tYXJrZG93bi1lZGl0b3ItbGl0ZSI7CmltcG9ydCB7IFVwbG9hZE91dGxpbmVkLCBQaWN0dXJlT3V0bGluZWQgfSBmcm9tICJAYW50LWRlc2lnbi9pY29ucyI7CmltcG9ydCB7IFVwbG9hZCwgTW9kYWwsIG1lc3NhZ2UsIEJ1dHRvbiwgRm9ybSwgSW5wdXQsIFJvdywgQ29sIH0gZnJvbSAiYW50ZCI7CmltcG9ydCAiLi9pbmRleC5sZXNzIjsKCnZhciBDb3VudGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUGx1Z2luQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKENvdW50ZXIsIF9QbHVnaW5Db21wb25lbnQpOwoKICAvLyDov5nph4zlrprkuYnmj5Lku7blkI3np7DvvIzms6jmhI/kuI3og73ph43lpI0KICAvLyDlrprkuYnmjInpkq7ooqvpmLLmraLlnKjlk6rkuKrkvY3nva7vvIzpu5jorqTkuLrlt6bkvqfvvIzov5jlj6/ku6XmlL7nva7lnKjlj7PkvqfvvIhyaWdodO+8iQogIGZ1bmN0aW9uIENvdW50ZXIocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ291bnRlcik7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ291bnRlcikuY2FsbCh0aGlzLCBwcm9wcykpOwogICAgX3RoaXMuZm9ybVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpOwoKICAgIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAvLyDmm7TmlrDkuIDkuIvoh6rouqvnmoRzdGF0ZQogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNTaG93TW9kZWw6IHRydWUKICAgICAgfSk7CiAgICB9OwoKICAgIF90aGlzLmhhbmRsZUNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGlzU2hvd01vZGVsOiBmYWxzZQogICAgICB9KTsKICAgIH07CgogICAgX3RoaXMudXBsb2FkQ2hhbmdlID0gZnVuY3Rpb24gKGluZm8pIHsKICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICJkb25lIikgewogICAgICAgIF90aGlzLmZvcm1SZWYuY3VycmVudC5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICB1cmw6IGluZm8uZmlsZS5yZXNwb25zZS51cmwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAiZXJyb3IiKSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigi5Zu+54mH5LiK5Lyg5aSx6LSlIik7CiAgICAgIH0KICAgIH07CgogICAgX3RoaXMuaGFuZGxlU3VibWl0ID0gZnVuY3Rpb24gKHZhbHVlcykgewogICAgICB2YXIgc3RyOwoKICAgICAgaWYgKHZhbHVlcy5saW5rKSB7CiAgICAgICAgc3RyID0gIlshWyIuY29uY2F0KHZhbHVlcy5kZXNjLCAiXSgiKS5jb25jYXQodmFsdWVzLnVybCwgIiBcIiIpLmNvbmNhdCh2YWx1ZXMuZGVzYywgIlwiKV0oIikuY29uY2F0KHZhbHVlcy5saW5rLCAiIFwiIikuY29uY2F0KHZhbHVlcy5kZXNjLCAiXCIpIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RyID0gIiFbIi5jb25jYXQodmFsdWVzLmRlc2MsICJdKCIpLmNvbmNhdCh2YWx1ZXMudXJsLCAiIFwiIikuY29uY2F0KHZhbHVlcy5kZXNjLCAiXCIpIik7CiAgICAgIH0KCiAgICAgIF90aGlzLmVkaXRvci5pbnNlcnRUZXh0KHN0cik7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgaXNTaG93TW9kZWw6IGZhbHNlCiAgICAgIH0pOwoKICAgICAgX3RoaXMuZm9ybVJlZi5jdXJyZW50LnJlc2V0RmllbGRzKCk7CiAgICB9OwoKICAgIF90aGlzLnN0YXRlID0gewogICAgICBpc1Nob3dNb2RlbDogZmFsc2UKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ291bnRlciwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiYnV0dG9uIGJ1dHRvbi10eXBlLWNvdW50ZXIiLAogICAgICAgIHRpdGxlOiAiXHU2M0QyXHU1MTY1XHU1NkZFXHU3MjQ3IiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDbGljaygpOwogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogNjUsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDkKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBpY3R1cmVPdXRsaW5lZCwgewogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDcwLAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxMQogICAgICAgIH0KICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbCwgewogICAgICAgIHRpdGxlOiAiXHU2REZCXHU1MkEwXHU1NkZFXHU3MjQ3IiwKICAgICAgICB2aXNpYmxlOiB0aGlzLnN0YXRlLmlzU2hvd01vZGVsLAogICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlQ2FuY2VsKCk7CiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IG51bGwsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogNzIsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDkKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm0sIHsKICAgICAgICByZWY6IHRoaXMuZm9ybVJlZiwKICAgICAgICBvbkZpbmlzaDogdGhpcy5oYW5kbGVTdWJtaXQsCiAgICAgICAgY2xhc3NOYW1lOiAibG9naW4tZm9ybSIsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogNzgsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDExCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLkl0ZW0sIHsKICAgICAgICBsYWJlbDogIlx1NTZGRVx1NzI0N1x1NTczMFx1NTc0MCIsCiAgICAgICAgbmFtZTogInVybCIsCiAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlm77niYflnLDlnYAhIgogICAgICAgIH1dLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDgzLAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxMwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUm93LCB7CiAgICAgICAgZ3V0dGVyOiAyMCwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA4OCwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMTUKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbCwgewogICAgICAgIHNwYW46IDE2LAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDg5LAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW5wdXQsIHsKICAgICAgICBzaXplOiAibGFyZ2UiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiXHU4QkY3XHU4RjkzXHU1MTY1XHU1NkZFXHU3MjQ3XHU1NzMwXHU1NzQwIiwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA5MCwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMTkKICAgICAgICB9CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sLCB7CiAgICAgICAgc3BhbjogOCwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA5MiwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMTcKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVwbG9hZCwgewogICAgICAgIGFjdGlvbjogIi9hcGkvc2l0ZS9tYXJrZG93bl9pbWFnZSIsCiAgICAgICAgYWNjZXB0OiAiaW1hZ2UvKiIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGluZm8pIHsKICAgICAgICAgIHJldHVybiBfdGhpczIudXBsb2FkQ2hhbmdlKGluZm8pOwogICAgICAgIH0sCiAgICAgICAgc2hvd1VwbG9hZExpc3Q6IGZhbHNlLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDkzLAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxOQogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAgc2l6ZTogImxhcmdlIiwKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA5OSwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMjEKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFVwbG9hZE91dGxpbmVkLCB7CiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTAwLAogICAgICAgICAgY29sdW1uTnVtYmVyOiAyMwogICAgICAgIH0KICAgICAgfSksICIgXHU2NzJDXHU1NzMwXHU0RTBBXHU0RjIwIikpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLkl0ZW0sIHsKICAgICAgICBsYWJlbDogIlx1NTZGRVx1NzI0N1x1NjNDRlx1OEZGMCIsCiAgICAgICAgbmFtZTogImRlc2MiLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDEwNiwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMTMKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgc2l6ZTogImxhcmdlIiwKICAgICAgICBwbGFjZWhvbGRlcjogIlx1OEJGN1x1OEY5M1x1NTE2NVx1NTZGRVx1NzI0N1x1NjNDRlx1OEZGMCIsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTA3LAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNQogICAgICAgIH0KICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLkl0ZW0sIHsKICAgICAgICBsYWJlbDogIlx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNSIsCiAgICAgICAgbmFtZTogImxpbmsiLAogICAgICAgIF9fc2VsZjogdGhpcywKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDEwOSwKICAgICAgICAgIGNvbHVtbk51bWJlcjogMTMKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0LCB7CiAgICAgICAgc2l6ZTogImxhcmdlIiwKICAgICAgICBwbGFjZWhvbGRlcjogIlx1OEJGN1x1OEY5M1x1NTE2NVx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNSIsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTEwLAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNQogICAgICAgIH0KICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLkl0ZW0sIHsKICAgICAgICBfX3NlbGY6IHRoaXMsCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAxMTMsCiAgICAgICAgICBjb2x1bW5OdW1iZXI6IDEzCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImZvb3RlciIsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTE0LAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNQogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7CiAgICAgICAgc2l6ZTogImxhcmdlIiwKICAgICAgICBodG1sVHlwZTogInN1Ym1pdCIsCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTE1LAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNwogICAgICAgIH0KICAgICAgfSwgIlx1Nzg2RVx1NUI5QSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsKICAgICAgICBzaXplOiAibGFyZ2UiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNhbmNlbCgpOwogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTE4LAogICAgICAgICAgY29sdW1uTnVtYmVyOiAxNwogICAgICAgIH0KICAgICAgfSwgIlx1NTNENlx1NkQ4OCIpKSkpKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ291bnRlcjsKfShQbHVnaW5Db21wb25lbnQpOwoKQ291bnRlci5wbHVnaW5OYW1lID0gImltYWdlLXVwbG9hZCI7CkNvdW50ZXIuYWxpZ24gPSAibGVmdCI7CnZhciBfZGVmYXVsdCA9IENvdW50ZXI7CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0OwoKaWYgKHR5cGVvZiBDb3VudGVyICE9PSAndW5kZWZpbmVkJyAmJiBDb3VudGVyICYmIENvdW50ZXIgPT09IE9iamVjdChDb3VudGVyKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKENvdW50ZXIpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvdW50ZXIsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJDb3VudGVyIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXGVkaXRvclxcbWFya2Rvd25cXHBsdWdpblxcaW1hZ2VQbHVnaW5cXGluZGV4LmpzeCIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoQ291bnRlciwgIkNvdW50ZXIiLCAiRDpcXHdlYlxccmVhY3Qtcml0Y2gtbWFya2Rvd25cXHNyY1xcZWRpdG9yXFxtYXJrZG93blxccGx1Z2luXFxpbWFnZVBsdWdpblxcaW5kZXguanN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkQ6XFx3ZWJcXHJlYWN0LXJpdGNoLW1hcmtkb3duXFxzcmNcXGVkaXRvclxcbWFya2Rvd25cXHBsdWdpblxcaW1hZ2VQbHVnaW5cXGluZGV4LmpzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["D:/web/react-ritch-markdown/src/editor/markdown/plugin/imagePlugin/index.jsx"],"names":["React","PluginComponent","UploadOutlined","PictureOutlined","Upload","Modal","message","Button","Form","Input","Row","Col","Counter","props","formRef","createRef","handleClick","setState","isShowModel","handleCancel","uploadChange","info","file","status","current","setFieldsValue","url","response","error","handleSubmit","values","str","link","desc","editor","insertText","resetFields","state","required","pluginName","align"],"mappings":"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","sourcesContent":["/*\r\n * @Autor: Clairoll\r\n * @Date: 2020-08-27 14:58:04\r\n * @LastEditTime: 2020-12-23 15:11:10\r\n * @Email: 1755033445@qq.com\r\n * @description: 基于react-markdown-editor-lite 的图片上传组件\r\n */\r\nimport React from \"react\";\r\nimport { PluginComponent } from \"react-markdown-editor-lite\";\r\nimport { UploadOutlined, PictureOutlined } from \"@ant-design/icons\";\r\nimport { Upload, Modal, message, Button, Form, Input, Row, Col } from \"antd\";\r\n\r\nimport \"./index.less\";\r\n\r\nclass Counter extends PluginComponent {\r\n  // 这里定义插件名称，注意不能重复\r\n  static pluginName = \"image-upload\";\r\n  // 定义按钮被防止在哪个位置，默认为左侧，还可以放置在右侧（right）\r\n  static align = \"left\";\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isShowModel: false,\r\n    };\r\n  }\r\n\r\n  formRef = React.createRef();\r\n\r\n  handleClick = () => {\r\n    // 更新一下自身的state\r\n    this.setState({\r\n      isShowModel: true,\r\n    });\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({ isShowModel: false });\r\n  };\r\n\r\n  //图片上传回调\r\n  uploadChange = (info) => {\r\n    if (info.file.status === \"done\") {\r\n      this.formRef.current.setFieldsValue({ url: info.file.response.url });\r\n    } else if (info.file.status === \"error\") {\r\n      message.error(\"图片上传失败\");\r\n    }\r\n  };\r\n\r\n  handleSubmit = (values) => {\r\n    let str;\r\n    if (values.link) {\r\n      str = `[![${values.desc}](${values.url} \"${values.desc}\")](${values.link} \"${values.desc}\")`;\r\n    } else {\r\n      str = `![${values.desc}](${values.url} \"${values.desc}\")`;\r\n    }\r\n    this.editor.insertText(str);\r\n    this.setState({ isShowModel: false });\r\n    this.formRef.current.resetFields();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <span\r\n          className=\"button button-type-counter\"\r\n          title=\"插入图片\"\r\n          onClick={() => this.handleClick()}\r\n        >\r\n          <PictureOutlined />\r\n        </span>\r\n        <Modal\r\n          title=\"添加图片\"\r\n          visible={this.state.isShowModel}\r\n          onCancel={() => this.handleCancel()}\r\n          footer={null}\r\n        >\r\n          <Form\r\n            ref={this.formRef}\r\n            onFinish={this.handleSubmit}\r\n            className=\"login-form\"\r\n          >\r\n            <Form.Item\r\n              label=\"图片地址\"\r\n              name=\"url\"\r\n              rules={[{ required: true, message: \"请输入图片地址!\" }]}\r\n            >\r\n              <Row gutter={20}>\r\n                <Col span={16}>\r\n                  <Input size=\"large\" placeholder=\"请输入图片地址\" />\r\n                </Col>\r\n                <Col span={8}>\r\n                  <Upload\r\n                    action=\"/api/site/markdown_image\"\r\n                    accept=\"image/*\"\r\n                    onChange={(info) => this.uploadChange(info)}\r\n                    showUploadList={false}\r\n                  >\r\n                    <Button size=\"large\">\r\n                      <UploadOutlined /> 本地上传\r\n                    </Button>\r\n                  </Upload>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n            <Form.Item label=\"图片描述\" name=\"desc\">\r\n              <Input size=\"large\" placeholder=\"请输入图片描述\" />\r\n            </Form.Item>\r\n            <Form.Item label=\"图片链接\" name=\"link\">\r\n              <Input size=\"large\" placeholder=\"请输入图片链接\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <div className=\"footer\">\r\n                <Button size=\"large\" htmlType=\"submit\">\r\n                  确定\r\n                </Button>\r\n                <Button size=\"large\" onClick={() => this.handleCancel()}>\r\n                  取消\r\n                </Button>\r\n              </div>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Counter;\r\n"]}]}